<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>RECALL 系统</title>
    <!-- Tell the browser to be responsive to screen width -->

    <!--<link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"-->
    <!--rel="stylesheet">-->
    <!--<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"-->
    <!--rel="stylesheet">-->
    <link rel="icon" type="image/ico" href="../assets/i/favicona.ico" />
    <link href="../static/bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="../static/bootstrap-3.3.7/fonts/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/daterange/daterangepicker-bs3.css">
    
</head>
<body >
<div class="container">

    <div class="row clearfix">
        <div class="col-md-12 column">

            <form role="form" id="formquery"  class="form-inline">

                <div class="hidden form-group">
                    <input type="text"  name="myMethodName"       class="form-control" id="myMethod" />
                </div>
                <div class="hidden form-group">
                    <input type="text"  name="queryStatus"       class="form-control" id="queryStatusID" />
                </div>
                <div class="hidden form-group">
                    <input type="text"  name="updateStartName" class="form-control" id="updateStartNumber" />
                </div>
                <div class="hidden form-group">
                    <input type="text" value="10" name="totalPage_name" class="form-control" id="totalPage" />
                </div>
                <div class="hidden form-group">
                    <input type="text" value="1" name="currentPage_name" class="form-control" id="currentPage" />
                </div>
                <div class="form-group col-md-2">
                    <label for="gamenameID">游戏类型</label><input type="text" value="天龙八部" name="gamename" class="form-control" id="gamenameID" readonly/>
                </div>
                <div class="form-group col-md-2">
                    <label for="serveridID">服务器ID</label><input type="text" value="任意" name="serverid" class="form-control" id="serveridID" />
                </div>
                <div class="form-group col-md-2">
                    <label for="cnmasterID">账号</label><input type="text" value="任意" name="cnmaster" class="form-control" id="cnmasterID" />
                </div>
                <div class="form-group col-md-2">
                    <label for="startLossDaysID">流失天数下限</label><input type="text" value="0" name="startLossDays" class="form-control" id="startLossDaysID" />
                </div>
                <div class="form-group col-md-2">
                    <label for="endLossDaysID">流失天数上限</label><input type="text" value="inf" name="endLossDays" class="form-control" id="endLossDaysID" />
                </div>
                <div class="form-group  col-md-2">
                    <label for="followerNumberID">跟进号工</label>
                    <select class="form-control " name="followerNumber" id="followerNumberID">
                        <option value='所有'>所有</option>
                        <option value='陈佳'>陈佳</option>
                        <option value='庞威'>庞威</option>
                        <option value='万紫薇'>万紫薇</option>
                        <option value='赵孟玥'>赵孟玥</option>
                        <option value='赵哲'>赵哲</option>
                        <option value='谷跃涵'>谷跃涵</option>
                        <option value='冯鑫'>冯鑫</option>
                        <option value='姚婷'>姚婷</option>
                        <option value='王元'>王元</option>
                        <option value='蒋浩'>蒋浩</option>
                        <option value='汪京辉'>汪京辉</option>
						<option value='李涛'>李涛</option>
                        <option value='李艳静'>李艳静</option>
                        <option value='无'>无</option>
                    </select>

                </div>

                <div class="form-group  col-md-2">
                    <label for="levelID">VIP等级</label>
                    <select class="form-control " name="level" id="levelID">
                        <option value='8'>vip8</option>
                        <option value='9'>vip9</option>
						<option value='10'>svip9</option>

                    </select>
                </div>

                <div class="form-group  col-md-2">
                    <label for="isInterposeID">干预状态</label>
                    <select class="form-control " name="isInterpose" id="isInterposeID">
                        <option value='0'>未干预</option>
                        <option value='1'>已干预</option>

                    </select>
                </div>

                <!--<div class="form-group  col-md-2">-->
                    <!--<label for="isRecallID">回流状态</label>-->
                    <!--<select class="form-control" name="isRecall" id="isRecallID">-->
                        <!--<option value='0'>未回流</option>-->
                        <!--<option value='1'>已回流</option>-->

                    <!--</select>-->
                <!--</div>-->

                <!--<div class="form-group  col-md-2">-->
                    <!--<label for="isLossID">流失状态</label>-->
                    <!--<select class="form-control" name="isLoss" id="isLossID">-->
                        <!--<option value='0'>在线</option>-->
                        <!--<option value='1'>已经流失</option>-->
                    <!--</select>-->
                <!--</div>-->


                <div class="form-group  col-md-2">
                    <label for="statusID">状态</label>
                    <select class="form-control " name="status" id="statusID">
                        <option value='流失'>流失</option>
                        <option value='回流'>回流</option>
                        <option value='二次流失'>二次流失</option>
                        <option value='二次回流'>二次回流</option>
                        <option value='多次流失'>多次流失</option>
                        <option value='多次回流'>多次回流</option>
                        <option value='在线'>在线</option>
                    </select>
                </div>

                <div class="form-group col-md-2">
                    <label for="hasSystemSendGiftID">礼包发送</label>
                    <select class="form-control  " name="hasSystemSendGift" id="hasSystemSendGiftID">
                        <option value='0'>未发送</option>
                        <option value='1'>已发送</option>
                    </select>
                </div>

                <!--<div class="form-group col-md-2">-->
                    <!--<label for="hasManualSendGiftID">系统礼包发送状态</label>-->
                    <!--<select class="form-control" name="hasManualSendGift" id="hasManualSendGiftID">-->
                        <!--<option value='0'>未发送</option>-->
                        <!--<option value='1'>已发送</option>-->

                    <!--</select>-->
                <!--</div>-->


                <div class="form-group col-md-3">
                    <label   for="recallDateID">
                        回流时间
                    </label>
                    <div class="controls">
                        <div class="input-prepend input-group" >
										<span class="add-on input-group-addon">
											<i class="glyphicon glyphicon-calendar fa fa-calendar">
											</i>
										</span>
                            <input style="width:200px" type="text" name="recallDate" id="recallDateID"  value="请选择时间"
                                   class="form-control  "
                            />
                        </div>
                    </div>
                </div>



                <div class="form-group col-md-3">
                    <label  for="lossDateID">
                        流失日期
                    </label>
                    <div class="controls">
                        <div class="input-prepend input-group">
										<span class="add-on input-group-addon">
											<i class="glyphicon glyphicon-calendar fa fa-calendar">
											</i>
										</span>
                            <input  style="width:200px" type="text" name="lossDate" id="lossDateID" value="请选择时间"
                                    class="form-control  "
                            />
                        </div>
                    </div>
                </div>

                <div class="form-group col-md-3">
                    <label  for="interposeDateID">
                        干预时间
                    </label>
                    <div class="controls">
                        <div class="input-prepend input-group">
										<span class="add-on input-group-addon">
											<i class="glyphicon glyphicon-calendar fa fa-calendar">
											</i>
										</span>
                            <input  style="width:200px" type="text" name="interposeDate" id="interposeDateID"  value="请选择时间"
                                    class="form-control  "
                            />
                        </div>
                    </div>
                </div>

                <!-- <div class="form-group">
                    <label for="query_phone">是否有电话</label>
                    <select class="form-control" name="has_phone_number" id="query_phone">
                        <option>1</option>
                        <option>2</option
                    </select>
                </div> -->


                <!--模态的触发机制-->
                <!--<div clas="form-group ">-->
                    <!--<label for="clickQueryButton"></label>-->
                    <!--<button type="button" class="form-control btn btn-primary"  data-backdrop="static" data-keyboard="false" data-toggle="modal" data-target=".bs-example-modal-lg"  id="clickQueryButton" onclick="firstPageClick()">点击查询</button>-->
                <!--</div>-->

                <div class="form-group col-md-12">
                    <label for="clickQueryButton"></label>
                    <button type="button" class="form-control btn btn-primary"    id="clickQueryButton" onclick="firstPageClick()">点击查询</button>
                </div>


                <div class="form-group col-md-12">
                    <label for="dumpEXCELID"></label>
                    <button type="button" class="form-control btn btn-primary"   id="dumpEXCELID" onclick="dumpEXCEL()">导出EXCEL</button>
                </div>


                <!--<div clas="form-group hidden">-->
                <!--<label for="submitButton"></label>-->
                <!--<button type="button" class="form-control btn btn-primary" data-backdrop="static" data-keyboard="false" data-toggle="modal" data-target=".bs-example-modal-lg" id="submitButton" onclick="">提交查询</button>-->
                <!--</div>-->
            </form>


            <div class="modal fade bs-example-modal-lg"  id="myModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <!--<div class="modal-header"><p>头部</p></div>-->
                        <div class="modal-body">
                            <div class="progress progress-striped">
                                <div id="progressBar" class="progress-bar progress-bar-success" role="progressbar"
                                     aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:0%;">
                                    <!--<span >已经拼命查询，请耐心等待...</span>-->
                                </div>
                            </div>
                        </div>
                        <!--<div calss="modal-footer"><p>底部</p></div>-->
                    </div>
                </div>
            </div>

            <div class="modal fade" id="modal-container-1" data-backdrop="static" data-keyboard="false" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="form-group">
                            <label class="modal-body">上次回访时间：</label>
                            <input disabled="true" type="text" id="lastDate" style="width: 80px;text-align: left" value="">
                            <div class="form-group">
                                <label class="modal-body">上次回访记录：</label>
                                <textarea disabled="true" class="lastContent" name="lastContent" rows="7" cols="80"></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="modal-body">最新回访时间：</label>
                            <input disabled="true" type="text" id="newDate" style="width:80px" value="">
                            <div class="form-group">
                                <label class="modal-body">最新回访记录：</label>
                                <textarea class="newContent" name="newContent" rows="7" cols="80" autocomplete="off"></textarea>
                            </div>
                            <!--<label class="modal-body">是否发送礼包：<div class="checkbox">-->
                                <!--<input type="radio" name="cb" value="1"></div></label>-->
                            <div class="form-group">
                                <label class="modal-body">是否发送礼包：
                                    <label class="modal-body">是：<input type="radio" name="hasSendGiftRadio" value="1"></label>
                                    <label class="modal-body">否：<input type="radio" name="hasSendGiftRadio" value="0" checked></label>
                                </label>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" id="modal-3" href="#modal-container-3" data-toggle="modal" onclick="checkVistHistory()">历史记录</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                            <button type="button" class="btn btn-primary" onclick="submitModal();">保存</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="modal-container-2" data-backdrop="static" data-keyboard="false" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">
                            <label class="modal-body">玩家角色表：</label>
                            <table class="table-bordered modal-body sentPackgeClass" id="show_Detail" style="width: 740px">
                                <thead>
                                <tr>
                                    <th>账号</th>
                                    <th>角色</th>
                                    <th>等级</th>
                                    <th>服务器ID</th>
                                    <th>装备评分</th>
                                    <!--<th>心法评分</th>-->
                                    <!--<th>修炼评分</th>-->
                                    <!--<th>宝石评分</th>-->
                                    <th>是否回流</th>
                                    <th>角色ID</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr class="trSelected2"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                            <!--<button type="button" class="btn btn-primary" data-dismiss="modal" onclick="submitModal();">发送</button>-->
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="modal-container-3" data-backdrop="static" data-keyboard="false" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">
                            <p id="whichButtonClick" class="hidden"></p>
                            <label class="modal-body">历史回访记录：</label>
                            <table class="table-bordered modal-body vistHistory" id="visitHistory1" style="width: 740px">
                                <thead>
                                <tr>
                                    <th style="width: 12%">时间：</th>
                                    <th style="width: 88%">回访记录：</th>
                                </tr>
                                </thead>
                                <tbody>
                                <!-- <tr class="trSelected3"><td></td><td></td></tr> -->
                                </tbody>
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal" id="clearTable">关闭</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="row clearfix">
        <div class="col-md-12 ">
            <table class="table table-striped table-hover table-bordered">

                <thead>
                <tr class=" danger">
                    <th style="width: 7%">游戏名称</th>
                    <th style="width: 7%">流失天数</th>
                    <th style="width: 7%">流失日期</th>
                    <th style="width: 6%">回流日期</th>
                    <th style="width: 21%">天龙账号</th>
                    <th style="width: 7%">VIP等级</th>
                    <th style="width: 6%">服务器ID</th>
                    <th style="width: 6%">干预日期</th>
                    <th style="width: 5%">干预状态</th>
                    <th style="width: 7%">干预后付费</th>
                    <th style="width: 4%">状态</th>
                    <!--<th style="width: 5%">系统礼包</th>-->
                    <th style="width: 5%">发送礼包</th>
                    <th style="width: 6%">跟进员工</th>
                    <th style="width: 6%">回访记录</th>
                    <!--<th style="width: 5%">操作</th>-->
                    <th class="hidden"></th>
                </tr>
                </thead>
                <tbody>
                <tr  class="trSelected"> <td></td><td></td><td></td><td></td><td style="cursor:pointer" class="show_me"></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><input class="visitHistory" type="button" value="回访记录" id="modal-1" href="#modal-container-1" role="button" data-toggle="modal" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"></td><td class="hidden"></td></tr>
                <tr  class="trSelected success"> <td></td><td></td><td></td><td></td><td style="cursor:pointer" class="show_me"></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><input class="visitHistory" type="button" value="回访记录" id="modal-1" href="#modal-container-1" role="button" data-toggle="modal" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"></td><td class="hidden"></td></tr>
                <tr  class="trSelected"> <td></td><td></td><td></td><td></td><td style="cursor:pointer" class="show_me"></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><input class="visitHistory" type="button" value="回访记录" id="modal-1" href="#modal-container-1" role="button" data-toggle="modal" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"></td><td class="hidden"></td></tr>
                <tr  class="trSelected success"> <td></td><td></td><td></td><td></td><td style="cursor:pointer" class="show_me"></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><input class="visitHistory" type="button" value="回访记录" id="modal-1" href="#modal-container-1" role="button" data-toggle="modal" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"></td><td class="hidden"></td></tr>
                <tr  class="trSelected"> <td></td><td></td><td></td><td></td><td style="cursor:pointer" class="show_me"></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><input class="visitHistory" type="button" value="回访记录" id="modal-1" href="#modal-container-1" role="button" data-toggle="modal" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"></td><td class="hidden"></td></tr>
                <tr  class="trSelected success"> <td></td><td></td><td></td><td></td><td style="cursor:pointer" class="show_me"></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><input class="visitHistory" type="button" value="回访记录" id="modal-1" href="#modal-container-1" role="button" data-toggle="modal" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"></td><td class="hidden"></td></tr>
                <tr  class="trSelected"> <td></td><td></td><td></td><td></td><td style="cursor:pointer" class="show_me"></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><input class="visitHistory" type="button" value="回访记录" id="modal-1" href="#modal-container-1" role="button" data-toggle="modal" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"></td><td class="hidden"></td></tr>
                <tr  class="trSelected success"> <td></td><td></td><td></td><td></td><td style="cursor:pointer" class="show_me"></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><input class="visitHistory" type="button" value="回访记录" id="modal-1" href="#modal-container-1" role="button" data-toggle="modal" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"></td><td class="hidden"></td></tr>
                <tr  class="trSelected"> <td></td><td></td><td></td><td></td><td style="cursor:pointer" class="show_me"></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><input class="visitHistory" type="button" value="回访记录" id="modal-1" href="#modal-container-1" role="button" data-toggle="modal" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"></td><td class="hidden"></td></tr>
                <tr  class="trSelected success"> <td></td><td></td><td></td><td></td><td style="cursor:pointer" class="show_me"></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><input class="visitHistory" type="button" value="回访记录" id="modal-1" href="#modal-container-1" role="button" data-toggle="modal" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"></td><td class="hidden"></td></tr>
                <!--<td><input class="operation" type="button" value="礼包" id="modal-2" href="#modal-container-2" role="button" data-toggle="modal" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false"></td>-->
                </tbody>
            </table>


        </div>
    </div>


    <div class="row clearfix">
        <div class="col-md-12 column">
            <ul class="pagination">
                <li >
                    <a  id="firstPage" onclick="firstPageClick();">首页</a>
                </li>
                <li >
                    <a  id="previousPage">上一页</a>
                </li>
                <li class="active">
                    <a  class="mainPage">1</a>
                </li>
                <li>
                    <a  class="mainPage">2</a>
                </li>
                <li>
                    <a  class="mainPage">3</a>
                </li>
                <li>
                    <a  class="mainPage">4</a>
                </li>
                <li>
                    <a  class="mainPage">5</a>
                </li>
                <li>
                    <a  class="mainPage">6</a>
                </li>

                <li>
                    <a  id="nextPage">下一页</a>
                </li>
                <li >
                    <a  id="lastPage" onclick="lastPageClick();">尾页</a>
                </li>
                <li disabled="true"><a class="totalPage" href="#"></a>
                </li>


            </ul>
        </div>


    </div>
</div>



<!-- Placed at the end of the document so the pages load faster -->
<script type="text/javascript" src="../static/jquery/jquery.js "></script>
<script type="text/javascript" src="../static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../static/daterange/moment.js"></script>
<script type="text/javascript" src="../static/daterange/daterangepicker.js"></script>
<script type="text/javascript" src="../static/manul_js/pages.js"></script>
<script type="text/javascript" src="../static/manul_js/button.js"></script>
<script type="text/javascript">

    $(function() {


        initialize_pages()
        initialize_button()

        $("li > a.mainPage").each(function(index,object){
            if(index == 0){
                console.log("hello world")
                $(object).click()
            }
        })

        $('#recallDateID').daterangepicker({
                locale: {
                    applyLabel: '确认',
                    cancelLabel: '取消',
                    fromLabel: '',
                    toLabel:'至',
                    weekLabel: 'W',
                    customRangeLabel: 'Custom Range',
                    daysOfWeek:["日","一","二","三","四","五","六"],
                    monthNames: ["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],
                },
                timePickerIncrement: 30,
                singleDatePicker:false,
                showDropdowns:true,
                startView: 2,
                minView: 2,
                format: 'YYYY-MM-DD',
                separator: ' 至 ',
                endDate: new Date(),
                maxDate:new Date(),
            },
            function(start, end, label) {
                console.log(start.toISOString(), end.toISOString(), label);
            });

        $('#interposeDateID').daterangepicker({
                locale: {
                    applyLabel: '确认',
                    cancelLabel: '取消',
                    fromLabel: '',
                    toLabel:'至',
                    weekLabel: 'W',
                    customRangeLabel: 'Custom Range',
                    daysOfWeek:["日","一","二","三","四","五","六"],
                    monthNames: ["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],
                },
                timePickerIncrement: 30,
                singleDatePicker:false,
                showDropdowns:true,
                startView: 2,
                minView: 2,
                format: 'YYYY-MM-DD',
                separator: ' 至 ',
                endDate: new Date(),
                maxDate:new Date(),
            },
            function(start, end, label) {
                console.log(start.toISOString(), end.toISOString(), label);
            });

        $('#lossDateID').daterangepicker({
                locale: {
                    applyLabel: '确认',
                    cancelLabel: '取消',
                    fromLabel: '',

                    toLabel:'至',
                    weekLabel: 'W',
                    customRangeLabel: 'Custom Range',
                    daysOfWeek:["日","一","二","三","四","五","六"],
                    monthNames: ["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],
                },
                timePickerIncrement: 30,
                singleDatePicker:false,
                showDropdowns:true,
                startView: 2,
                minView: 2,
                format: 'YYYY-MM-DD',
                separator: ' 至 ',
                endDate: new Date(),
                maxDate:new Date(),
            },
            function(start, end, label) {
                console.log(start.toISOString(), end.toISOString(), label);
            });


    });
</script>
</body>
</html>
